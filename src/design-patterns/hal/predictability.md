# 可預見性


<a id="c-ctor"></a>
## 使用構造函數而不是擴展traits

所有由HAL添加功能的外設應該被封裝進一個新類型，即使該功能不需要額外的字段。

應該避免為基本外設擴展traits。

<a id="c-inline"></a>
## 方法在適當的地方用`#[inline]`修飾

Rust編譯器默認不會越過crate邊界執行完全內聯。因為嵌入式應用對於不可預期的代碼大小的增加很敏感，`#[inline]`應該如下所示用來指導編譯器:
* 所有的"小"函數應該被標記`#[inline]`。什麼是"小"是主觀的，但是通常所有有可能被編譯成一位數的指令序列(single-digit instruction sequences)都可以被視為"小"。
* 非常有可能把一個常量數值作為參數的函數應該被標記為`#[inline]`。這讓編譯器在編譯時就可以進行計算甚至是複雜的初始化邏輯，前提是函數輸入是已知的。
