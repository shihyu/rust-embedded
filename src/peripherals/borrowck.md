## 可變的全局狀態

不幸的是，硬件本質上是個可變的全局狀態，Rust開發者可能會對此感到很害怕。因為硬件獨立於我們所寫的代碼的結構，能被真實世界在任何時候改變。

## 我們應該遵循什麼規則?

我們如何才能做到可靠地與這些外設交互?

1. 總是使用 `volatile` 方法去讀或者寫外設存儲器。因為它隨時會改變。
2. 在軟件中，我們應該能共享任何數量的關於這些外設的只讀訪問
3. 如果某個軟件可以讀寫一個外設，它應該保有對那個外設的唯一引用。

## 借用檢查器

這些規則最後兩個聽起來與借用檢查器在做的事情很像！

思考一下，我們是否可以傳遞這些外設的所有權，或者提供對它們的可變或者不可變的引用？

我們當然可以，但是對於借用檢查器來說，每個外設只有一個實例的話，Rust才可以正確地處理這件事。幸運的是，在硬件中，任何給定的外設，只有一個實例，但是我們該如何將它暴露在代碼的結構中呢？
